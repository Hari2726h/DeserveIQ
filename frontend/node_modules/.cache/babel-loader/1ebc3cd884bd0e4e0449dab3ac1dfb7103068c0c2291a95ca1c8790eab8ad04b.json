{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hari2\\\\Downloads\\\\DeserveIQ\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport TopNav from '../components/TopNav';\nimport { Container, Row, Col, Card } from 'react-bootstrap';\nimport StatsCard from '../components/StatsCard';\nimport RiskChart from '../components/RiskChart';\nimport PredictionsTable from '../components/PredictionsTable';\nimport { getStudents } from '../services/api';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [preds, setPreds] = useState([]);\n  useEffect(() => {\n    getStudents().then(d => {\n      const arr = Array.isArray(d) ? d : [];\n      setStudents(arr);\n\n      // remove random fake predictions completely\n      setPreds([]);\n    }).catch(() => {\n      setStudents([]);\n      setPreds([]);\n    });\n  }, []);\n  const counts = preds.reduce((acc, p) => {\n    acc[p.risk_tier] = (acc[p.risk_tier] || 0) + 1;\n    return acc;\n  }, {});\n  const chartData = [{\n    name: 'High',\n    value: counts['HIGH'] || 0\n  }, {\n    name: 'Medium',\n    value: counts['MEDIUM'] || 0\n  }, {\n    name: 'Low',\n    value: counts['LOW'] || 0\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(StatsCard, {\n            title: \"Students\",\n            value: students.length,\n            subtitle: \"Total\",\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(StatsCard, {\n            title: \"At-Risk\",\n            value: counts['HIGH'],\n            subtitle: \"High\",\n            variant: \"danger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(StatsCard, {\n            title: \"Avg Deserving\",\n            value: Math.round(preds.reduce((s, p) => s + (+p.deservingness_score || 60), 0) / Math.max(preds.length, 1)),\n            subtitle: \"Score\",\n            variant: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(StatsCard, {\n            title: \"Avg Attendance\",\n            value: Math.round(preds.reduce((s, p) => s + (+p.attendance_rate || 75), 0) / Math.max(preds.length, 1)),\n            subtitle: \"%\",\n            variant: \"info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"g-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-3 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Risk Distribution\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 55\n            }, this), /*#__PURE__*/_jsxDEV(RiskChart, {\n              data: chartData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 81\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-3 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Top At-Risk Students\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 55\n            }, this), /*#__PURE__*/_jsxDEV(PredictionsTable, {\n              rows: preds.slice(0, 12)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Dashboard, \"6X5FsjXZlvRJsqipM4r4bS1plws=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","TopNav","Container","Row","Col","Card","StatsCard","RiskChart","PredictionsTable","getStudents","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","students","setStudents","preds","setPreds","then","d","arr","Array","isArray","catch","counts","reduce","acc","p","risk_tier","chartData","name","value","children","fileName","_jsxFileName","lineNumber","columnNumber","fluid","className","md","title","length","subtitle","variant","Math","round","s","deservingness_score","max","attendance_rate","data","rows","slice","_c","$RefreshReg$"],"sources":["C:/Users/hari2/Downloads/DeserveIQ/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport TopNav from '../components/TopNav'\nimport { Container, Row, Col, Card } from 'react-bootstrap'\nimport StatsCard from '../components/StatsCard'\nimport RiskChart from '../components/RiskChart'\nimport PredictionsTable from '../components/PredictionsTable'\nimport { getStudents } from '../services/api'\nimport { toast } from 'react-toastify'\n\nexport default function Dashboard(){\n  const [students, setStudents] = useState([])\n  const [preds, setPreds] = useState([])\nuseEffect(() => {\n  getStudents()\n    .then((d) => {\n      const arr = Array.isArray(d) ? d : [];\n      setStudents(arr);\n\n      // remove random fake predictions completely\n      setPreds([]);\n    })\n    .catch(() => {\n      setStudents([]);\n      setPreds([]);\n    });\n}, []);\n\n  const counts = preds.reduce((acc,p)=>{\n    acc[p.risk_tier] = (acc[p.risk_tier]||0)+1; return acc\n  },{})\n\n  const chartData = [\n    { name:'High', value: counts['HIGH']||0 },\n    { name:'Medium', value: counts['MEDIUM']||0 },\n    { name:'Low', value: counts['LOW']||0 }\n  ]\n\n  return (\n    <>\n      <TopNav/>\n      <Container fluid className=\"p-4\">\n        <Row className=\"mb-3\">\n          <Col md={3}><StatsCard title=\"Students\" value={students.length } subtitle=\"Total\" variant=\"primary\"/></Col>\n          <Col md={3}><StatsCard title=\"At-Risk\" value={counts['HIGH']} subtitle=\"High\" variant=\"danger\"/></Col>\n          <Col md={3}><StatsCard title=\"Avg Deserving\" value={Math.round(preds.reduce((s,p)=>s+(+p.deservingness_score||60),0)/Math.max(preds.length,1))} subtitle=\"Score\" variant=\"success\"/></Col>\n          <Col md={3}><StatsCard title=\"Avg Attendance\" value={Math.round(preds.reduce((s,p)=>s+(+p.attendance_rate||75),0)/Math.max(preds.length,1))} subtitle=\"%\" variant=\"info\"/></Col>\n        </Row>\n\n        <Row className=\"g-3\">\n          <Col md={4}><Card className=\"p-3 shadow-sm\"><h5>Risk Distribution</h5><RiskChart data={chartData}/></Card></Col>\n          <Col md={8}><Card className=\"p-3 shadow-sm\"><h5>Top At-Risk Students</h5><PredictionsTable rows={preds.slice(0,12)}/></Card></Col>\n        </Row>\n      </Container>\n    </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}