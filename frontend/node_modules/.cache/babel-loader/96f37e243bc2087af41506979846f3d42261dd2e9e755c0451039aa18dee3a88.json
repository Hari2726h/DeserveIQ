{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hari2\\\\Downloads\\\\DeserveIQ\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport TopNav from '../components/TopNav';\nimport { Container, Row, Col, Card, Badge, Spinner } from 'react-bootstrap';\nimport StatsCard from '../components/StatsCard';\nimport RiskChart from '../components/RiskChart';\nimport PredictionsTable from '../components/PredictionsTable';\nimport { getStudents, predictSingle } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [preds, setPreds] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // helper: use the student object directly as payload (it already has snake_case fields)\n  const buildPayloadFromStudent = s => {\n    const {\n      id,\n      ...rest\n    } = s; // id not needed by model\n    return rest;\n  };\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const data = await getStudents();\n        const arr = Array.isArray(data) ? data : [];\n        setStudents(arr);\n        if (arr.length === 0) {\n          setPreds([]);\n          setLoading(false);\n          return;\n        }\n\n        // Take first 30 students for dashboard predictions\n        const subset = arr.slice(0, 30);\n        const withPreds = await Promise.all(subset.map(async s => {\n          try {\n            const payload = buildPayloadFromStudent(s);\n            const p = await predictSingle(payload);\n            return {\n              ...s,\n              dropout_probability: Number(p.dropout_probability),\n              deservingness_score: Number(p.deservingness_score),\n              risk_tier: p.risk_tier\n            };\n          } catch {\n            // if ML fails for one student, still keep others\n            return {\n              ...s,\n              dropout_probability: 0,\n              deservingness_score: 0,\n              risk_tier: 'LOW'\n            };\n          }\n        }));\n        setPreds(withPreds);\n      } catch (e) {\n        console.error(e);\n        setStudents([]);\n        setPreds([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  // ---------- derived metrics ----------\n  const highCount = preds.filter(p => p.risk_tier === 'HIGH').length;\n  const medCount = preds.filter(p => p.risk_tier === 'MEDIUM').length;\n  const lowCount = preds.filter(p => p.risk_tier === 'LOW').length;\n  const avgDeserving = preds.length === 0 ? 0 : Math.round(preds.reduce((sum, p) => sum + (Number(p.deservingness_score) || 0), 0) / preds.length);\n  const avgAttendance = preds.length === 0 ? 0 : Math.round(preds.reduce((sum, p) => {\n    var _p$attendance_rate;\n    return sum + (Number((_p$attendance_rate = p.attendance_rate) !== null && _p$attendance_rate !== void 0 ? _p$attendance_rate : p.attendanceRate) || 0);\n  }, 0) / preds.length);\n  const chartData = [{\n    name: 'High',\n    value: highCount\n  }, {\n    name: 'Medium',\n    value: medCount\n  }, {\n    name: 'Low',\n    value: lowCount\n  }];\n\n  // sort by risk (high â†’ low)\n  const topRisk = [...preds].sort((a, b) => Number(b.dropout_probability) - Number(a.dropout_probability));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #0f172a 0%, #020617 40%, #111827 100%)',\n        color: '#e5e7eb'\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        className: \"py-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"mb-1\",\n                  style: {\n                    color: '#f9fafb'\n                  },\n                  children: \"DeserveIQ Overview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"Live dropout risk insights powered by your ML model\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"info\",\n                pill: true,\n                children: [new Date().toLocaleDateString(), \" \\u2022 Dashboard\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-4 g-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"Students\",\n              value: students.length,\n              subtitle: \"Total\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"At-Risk\",\n              value: highCount,\n              subtitle: \"High\",\n              variant: \"danger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"Avg Deserving\",\n              value: avgDeserving,\n              subtitle: \"Score\",\n              variant: \"success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"Avg Attendance\",\n              value: avgAttendance,\n              subtitle: \"%\",\n              variant: \"info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"g-4\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"h-100 shadow-lg border-0\",\n              style: {\n                backgroundColor: '#020617',\n                color: '#e5e7eb'\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    children: \"Risk Distribution\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"secondary\",\n                    pill: true,\n                    children: [preds.length, \" scored\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center my-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    animation: \"border\",\n                    size: \"sm\",\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Scoring students\\u2026\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this) : preds.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mt-3\",\n                  children: \"No predictions yet. Upload a batch or add students to see risk distribution.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(RiskChart, {\n                  data: chartData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 small text-muted\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"me-3\",\n                    children: [\"\\uD83D\\uDD34 High: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: highCount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 32\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"me-3\",\n                    children: [\"\\uD83D\\uDFE1 Medium: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: medCount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 34\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDFE2 Low: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: lowCount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 8,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"h-100 shadow-lg border-0\",\n              style: {\n                backgroundColor: '#020617',\n                color: '#e5e7eb'\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-center mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      children: \"Top At-Risk Students\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"Sorted by dropout probability\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center my-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    animation: \"border\",\n                    size: \"sm\",\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Loading data\\u2026\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this) : topRisk.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mt-3\",\n                  children: \"No risk data yet. Run a batch upload to see at-risk students here.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(PredictionsTable, {\n                  rows: topRisk.slice(0, 12)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Dashboard, \"x63d/Yr+PA8ujGMfQ6XE2IlGxQo=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","TopNav","Container","Row","Col","Card","Badge","Spinner","StatsCard","RiskChart","PredictionsTable","getStudents","predictSingle","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","students","setStudents","preds","setPreds","loading","setLoading","buildPayloadFromStudent","s","id","rest","load","data","arr","Array","isArray","length","subset","slice","withPreds","Promise","all","map","payload","p","dropout_probability","Number","deservingness_score","risk_tier","e","console","error","highCount","filter","medCount","lowCount","avgDeserving","Math","round","reduce","sum","avgAttendance","_p$attendance_rate","attendance_rate","attendanceRate","chartData","name","value","topRisk","sort","a","b","children","fileName","_jsxFileName","lineNumber","columnNumber","style","minHeight","background","color","fluid","className","bg","pill","Date","toLocaleDateString","md","title","subtitle","variant","backgroundColor","Body","Title","animation","size","rows","_c","$RefreshReg$"],"sources":["C:/Users/hari2/Downloads/DeserveIQ/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TopNav from '../components/TopNav';\nimport { Container, Row, Col, Card, Badge, Spinner } from 'react-bootstrap';\nimport StatsCard from '../components/StatsCard';\nimport RiskChart from '../components/RiskChart';\nimport PredictionsTable from '../components/PredictionsTable';\nimport { getStudents, predictSingle } from '../services/api';\n\nexport default function Dashboard() {\n  const [students, setStudents] = useState([]);\n  const [preds, setPreds] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // helper: use the student object directly as payload (it already has snake_case fields)\n  const buildPayloadFromStudent = (s) => {\n    const { id, ...rest } = s; // id not needed by model\n    return rest;\n  };\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const data = await getStudents();\n        const arr = Array.isArray(data) ? data : [];\n        setStudents(arr);\n\n        if (arr.length === 0) {\n          setPreds([]);\n          setLoading(false);\n          return;\n        }\n\n        // Take first 30 students for dashboard predictions\n        const subset = arr.slice(0, 30);\n\n        const withPreds = await Promise.all(\n          subset.map(async (s) => {\n            try {\n              const payload = buildPayloadFromStudent(s);\n              const p = await predictSingle(payload);\n              return {\n                ...s,\n                dropout_probability: Number(p.dropout_probability),\n                deservingness_score: Number(p.deservingness_score),\n                risk_tier: p.risk_tier,\n              };\n            } catch {\n              // if ML fails for one student, still keep others\n              return {\n                ...s,\n                dropout_probability: 0,\n                deservingness_score: 0,\n                risk_tier: 'LOW',\n              };\n            }\n          })\n        );\n\n        setPreds(withPreds);\n      } catch (e) {\n        console.error(e);\n        setStudents([]);\n        setPreds([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    load();\n  }, []);\n\n  // ---------- derived metrics ----------\n  const highCount = preds.filter((p) => p.risk_tier === 'HIGH').length;\n  const medCount = preds.filter((p) => p.risk_tier === 'MEDIUM').length;\n  const lowCount = preds.filter((p) => p.risk_tier === 'LOW').length;\n\n  const avgDeserving =\n    preds.length === 0\n      ? 0\n      : Math.round(\n          preds.reduce((sum, p) => sum + (Number(p.deservingness_score) || 0), 0) /\n            preds.length\n        );\n\n  const avgAttendance =\n    preds.length === 0\n      ? 0\n      : Math.round(\n          preds.reduce(\n            (sum, p) => sum + (Number(p.attendance_rate ?? p.attendanceRate) || 0),\n            0\n          ) / preds.length\n        );\n\n  const chartData = [\n    { name: 'High', value: highCount },\n    { name: 'Medium', value: medCount },\n    { name: 'Low', value: lowCount },\n  ];\n\n  // sort by risk (high â†’ low)\n  const topRisk = [...preds].sort(\n    (a, b) => Number(b.dropout_probability) - Number(a.dropout_probability)\n  );\n\n  return (\n    <>\n      <TopNav />\n      <div\n        style={{\n          minHeight: '100vh',\n          background:\n            'linear-gradient(135deg, #0f172a 0%, #020617 40%, #111827 100%)',\n          color: '#e5e7eb',\n        }}\n      >\n        <Container fluid className=\"py-4\">\n          {/* HEADER STRIP */}\n          <Row className=\"mb-3\">\n            <Col>\n              <div className=\"d-flex justify-content-between align-items-center\">\n                <div>\n                  <h3 className=\"mb-1\" style={{ color: '#f9fafb' }}>\n                    DeserveIQ Overview\n                  </h3>\n                  <small className=\"text-muted\">\n                    Live dropout risk insights powered by your ML model\n                  </small>\n                </div>\n                <Badge bg=\"info\" pill>\n                  {new Date().toLocaleDateString()} â€¢ Dashboard\n                </Badge>\n              </div>\n            </Col>\n          </Row>\n\n          {/* METRIC CARDS */}\n          <Row className=\"mb-4 g-3\">\n            <Col md={3}>\n              <StatsCard\n                title=\"Students\"\n                value={students.length}\n                subtitle=\"Total\"\n                variant=\"primary\"\n              />\n            </Col>\n            <Col md={3}>\n              <StatsCard\n                title=\"At-Risk\"\n                value={highCount}\n                subtitle=\"High\"\n                variant=\"danger\"\n              />\n            </Col>\n            <Col md={3}>\n              <StatsCard\n                title=\"Avg Deserving\"\n                value={avgDeserving}\n                subtitle=\"Score\"\n                variant=\"success\"\n              />\n            </Col>\n            <Col md={3}>\n              <StatsCard\n                title=\"Avg Attendance\"\n                value={avgAttendance}\n                subtitle=\"%\"\n                variant=\"info\"\n              />\n            </Col>\n          </Row>\n\n          {/* MAIN CONTENT */}\n          <Row className=\"g-4\">\n            <Col md={4}>\n              <Card\n                className=\"h-100 shadow-lg border-0\"\n                style={{ backgroundColor: '#020617', color: '#e5e7eb' }}\n              >\n                <Card.Body>\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                    <Card.Title>Risk Distribution</Card.Title>\n                    <Badge bg=\"secondary\" pill>\n                      {preds.length} scored\n                    </Badge>\n                  </div>\n                  {loading ? (\n                    <div className=\"text-center my-4\">\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n                      <span>Scoring studentsâ€¦</span>\n                    </div>\n                  ) : preds.length === 0 ? (\n                    <p className=\"text-muted mt-3\">\n                      No predictions yet. Upload a batch or add students to see\n                      risk distribution.\n                    </p>\n                  ) : (\n                    <RiskChart data={chartData} />\n                  )}\n                  <div className=\"mt-3 small text-muted\">\n                    <span className=\"me-3\">\n                      ðŸ”´ High: <strong>{highCount}</strong>\n                    </span>\n                    <span className=\"me-3\">\n                      ðŸŸ¡ Medium: <strong>{medCount}</strong>\n                    </span>\n                    <span>\n                      ðŸŸ¢ Low: <strong>{lowCount}</strong>\n                    </span>\n                  </div>\n                </Card.Body>\n              </Card>\n            </Col>\n\n            <Col md={8}>\n              <Card\n                className=\"h-100 shadow-lg border-0\"\n                style={{ backgroundColor: '#020617', color: '#e5e7eb' }}\n              >\n                <Card.Body>\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                    <div>\n                      <Card.Title>Top At-Risk Students</Card.Title>\n                      <small className=\"text-muted\">\n                        Sorted by dropout probability\n                      </small>\n                    </div>\n                  </div>\n\n                  {loading ? (\n                    <div className=\"text-center my-4\">\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n                      <span>Loading dataâ€¦</span>\n                    </div>\n                  ) : topRisk.length === 0 ? (\n                    <p className=\"text-muted mt-3\">\n                      No risk data yet. Run a batch upload to see at-risk\n                      students here.\n                    </p>\n                  ) : (\n                    <PredictionsTable rows={topRisk.slice(0, 12)} />\n                  )}\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}